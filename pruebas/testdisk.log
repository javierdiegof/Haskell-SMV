

Wed Aug  1 17:30:07 2018
Command line: TestDisk

TestDisk 7.0, Data Recovery Utility, April 2015
Christophe GRENIER <grenier@cgsecurity.org>
http://www.cgsecurity.org
OS: Linux, kernel 4.15.0-29-generic (#31-Ubuntu SMP Tue Jul 17 15:39:52 UTC 2018) x86_64
Compiler: GCC 7.2
ext2fs lib: 1.44.1, ntfs lib: libntfs-3g, reiserfs lib: none, ewf lib: none, curses lib: ncurses 6.0
/dev/sda: LBA, HPA, LBA48, DCO support
/dev/sda: size       1953525168 sectors
/dev/sda: user_max   1953525168 sectors
/dev/sda: native_max 1953525168 sectors
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
Hard disk list
Disk /dev/sda - 1000 GB / 931 GiB - CHS 121601 255 63, sector size=512 - HGST HTS721010A9E630, S/N:JR1000BN25K3SE, FW:JB0OA3W0

Partition table type (auto): EFI GPT
Disk /dev/sda - 1000 GB / 931 GiB - HGST HTS721010A9E630
Partition table type: EFI GPT

Analyse Disk /dev/sda - 1000 GB / 931 GiB - CHS 121601 255 63
hdr_size=92
hdr_lba_self=1
hdr_lba_alt=1953525167 (expected 1953525167)
hdr_lba_start=34
hdr_lba_end=1953525134
hdr_lba_table=2
hdr_entries=128
hdr_entsz=128
check_part_gpt failed for partition
 2 P MS Reserved              1026048    1288191     262144 [Microsoft reserved partition]
Current partition structure:
 1 P EFI System                  2048    1026047    1024000 [EFI system partition]
No FAT, NTFS, ext2, JFS, Reiser, cramfs or XFS marker
 2 P MS Reserved              1026048    1288191     262144 [Microsoft reserved partition]
 2 P MS Reserved              1026048    1288191     262144 [Microsoft reserved partition]
 3 P MS Data                  1288192  977228229  975940038 [Basic data partition]
 4 P Unknown               1950783488 1952524287    1740800
 5 P Unknown               1952526336 1953499135     972800
 6 P Unknown                977229824 1950783487  973553664
Backup partition structure
partition_save

search_part()
Disk /dev/sda - 1000 GB / 931 GiB - CHS 121601 255 63
FAT32 at 0/32/33
FAT1 : 6206-7198
FAT2 : 7199-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-1023999
sectors : 1024000
cluster_size : 8
no_of_cluster : 126976 (2 - 126977)
fat_length 993 calculated 993

FAT32 at 0/32/33
     MS Data                     2048    1026047    1024000 [ESP]
     FAT32, blocksize=4096, 524 MB / 500 MiB
NTFS at 72/72/1
filesystem size           209715200
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
NTFS part_offset=594542592, part_size=107374182400, sector_size=512
NTFS partition cannot be added (part_offset<part_size).
NTFS at 72/72/1
filesystem size           209715200
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                  1161216  210876415  209715200
     NTFS, blocksize=4096, 107 GB / 100 GiB

recover_EXT2: s_block_group_nr=0/3713, s_mnt_count=63/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 121694208
recover_EXT2: part_size 973553664
     MS Data                977229824 1950783487  973553664
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 498 GB / 464 GiB
NTFS at 121430/167/18
filesystem size           1740800
sectors_per_cluster       8
mft_lcn                   72533
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data               1949042689 1950783488    1740800
     NTFS found using backup sector, blocksize=4096, 891 MB / 850 MiB
NTFS at 121430/167/18
filesystem size           1740800
sectors_per_cluster       8
mft_lcn                   72533
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data               1950783488 1952524287    1740800
     NTFS, blocksize=4096, 891 MB / 850 MiB
Search for partition aborted

Results
   P MS Data                     2048    1026047    1024000 [ESP]
     FAT32, blocksize=4096, 524 MB / 500 MiB
   P MS Data                  1161216  210876415  209715200
     NTFS, blocksize=4096, 107 GB / 100 GiB
     MS Data                977229824 1950783487  973553664
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 498 GB / 464 GiB
     MS Data               1949042689 1950783488    1740800
     NTFS found using backup sector, blocksize=4096, 891 MB / 850 MiB
     MS Data               1950783488 1952524287    1740800
     NTFS, blocksize=4096, 891 MB / 850 MiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 1024000 linear /dev/sda 2048" | dmsetup create test0
echo "0 209715200 linear /dev/sda 1161216" | dmsetup create test1
echo "0 973553664 linear /dev/sda 977229824" | dmsetup create test2
echo "0 1740800 linear /dev/sda 1949042689" | dmsetup create test3
echo "0 1740800 linear /dev/sda 1950783488" | dmsetup create test4
SIGHUP detected! TestDisk has been killed.
